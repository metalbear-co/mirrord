Optimize agent Dockerfile for better cache use