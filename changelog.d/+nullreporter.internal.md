Change design around analyticsreporter to be more robust/clean